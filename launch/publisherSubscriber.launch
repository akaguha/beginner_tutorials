<launch>
  <arg
    name = "freq"
    default = "5"
  />
  <arg name="record_bag" default="false"/> 
  <node
    pkg="beginner_tutorials"
    name="talker"
    type="pub"
    output = "screen"
    required = "true"
    args = "$(arg freq)"
  />
  <node
    pkg="beginner_tutorials"
    name="listener"
    type="sub"
    output = "screen"
    respawn = "true"
    launch-prefix = "xterm -e"
  />
  <node
    pkg="rosbag"
    name="record"
    type="record"
    args="--output-name=$(find beginner_tutorials)/results/allTopics.bag --all"
    if="$(arg record_bag)"
  />
</launch>